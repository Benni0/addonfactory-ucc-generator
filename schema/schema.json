{
    "$schema": "http://json-schema.org/schema#",
    "additionalProperties": false,
    "properties": {
        "meta": {"$ref": "#/definitions/metaSchema"},
        "pages": {"$ref": "#/definitions/pagesSchema"}
    },
    "required": ["meta", "pages"],
    "type": "object",
    "definitions": {
        "metaSchema": {
            "type": "object",
            "properties": {
                "displayName": {"type": "string"},
                "name": {"type": "string"},
                "restRoot": {"type": "string"},
                "uccVersion": {"type": "string"},
                "version": {"type": "string"}
            },
            "additionalProperties": false,
            "required": [
                "displayName",
                "name",
                "restRoot",
                "uccVersion",
                "version"
            ]
        },

        "pagesSchema": {
          "additionalProperties": false,
          "properties": {
              "configuration": {"$ref": "#/definitions/configurationSchema"},
              "inputs": {"$ref": "#/definitions/inputsSchema"}
          }
        },

        "configurationSchema": {
            "type": "object",
            "properties": {
                "description": {"type": "string"},
                "tabs": {
                    "items": {
                        "anyOf": [
                            {"$ref": "#/definitions/accountTabContentSchema"},
                            {"$ref": "#/definitions/customizedTabContentSchema"},
                            {"$ref": "#/definitions/loggingTabContentSchema"},
                            {"$ref": "#/definitions/proxyTabContentSchema"}
                        ]
                    },
                    "type": "array"
                },
                "title": {"type": "string"}
            }
        },

        "inputsSchema": {
            "type": "object",
            "properties": {
                "description": {"type": "string"},
                "services": {
                    "type": "array",
                    "items": {
                        "additionalProperties": false,
                        "type": "object",
                        "properties": {
                            "name": {"type": "string"},
                            "title": {"type": "string"},
                            "entity": {"$ref": "#/definitions/entitySchema"}
                        }
                    }
                },
                "table": {"$ref": "#/definitions/tableSchema"},
                "title": {"type": "string"}
            }
        },

        "entitySchema": {
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "field": {"type": "string"},
                    "label": {"type": "string"},
                    "type": {"type": "string"},
                    "help": {"type": "string"},
                    "defaultValue": {
                        "anyOf": [
                            { "type": "string" },
                            { "type": "number" }
                        ]
                    },
                    "options": {"type": "object"},
                    "required": {"type": "boolean"},
                    "encrypted": {"type": "boolean"}
                },
                "additionalProperties": false
            }
        },

        "tableSchema": {
            "additionalProperties": false,
            "type": "object",
            "properties": {
                "header": {
                    "tyoe": "array",
                    "items": {
                        "additionalProperties": false,
                        "type": "object",
                        "properties": {
                            "field": {"type": "string"},
                            "label": {"type": "string"}
                        },
                        "required": ["field", "label"]
                    }
                },
                "moreInfo": {
                    "tyoe": "array",
                    "items": {
                        "additionalProperties": false,
                        "type": "object",
                        "properties": {
                            "field": {"type": "string"},
                            "label": {"type": "string"}
                        },
                        "required": ["field", "label"]
                    }
                },
                "actions": {
                    "tyoe": "array",
                    "items": {
                        "type": "string"
                    }
                }
            }
        },

        "accountTabContentSchema": {
            "type": "object",
            "properties": {
                "name": {"type": "string"},
                "title": {"type": "string"},
                "entity": {"$ref": "#/definitions/entitySchema"},
                "table": {"$ref": "#/definitions/tableSchema"}
            }
        },

        "loggingTabContentSchema": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "name": {"type": "string"},
                "title": {"type": "string"},
                "entity": {"$ref": "#/definitions/entitySchema"}
            }
        },

        "proxyTabContentSchema": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "name": {"type": "string"},
                "title": {"type": "string"},
                "entity": {"$ref": "#/definitions/entitySchema"}
            }
        },

        "customizedTabContentSchema": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "name": {"type": "string"},
                "title": {"type": "string"},
                "entity": {"$ref": "#/definitions/entitySchema"}
            }
        }
    }
}
